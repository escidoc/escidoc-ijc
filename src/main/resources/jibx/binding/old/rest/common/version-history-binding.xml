<binding>
    <!-- start: binding of a version history -->
  <mapping ns="http://www.escidoc.de/schemas/versionhistory/0.3"
    name="version-history"
    class="de.escidoc.core.resources.common.versionhistory.VersionHistory">
    
    <namespace
      uri="http://www.escidoc.de/schemas/versionhistory/0.3"
      prefix="escidocVersions" default="elements"/>
    <namespace uri="http://www.loc.gov/standards/premis/v1"
      prefix="premis" />
    <namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />
    
    <!-- *****************************************
      Root attributes 
      ****************************************** -->
    <value name="last-modification-date" style="attribute"
      field="lastModificationDate"/>

    <!-- *****************************************
      Versions
      ****************************************** -->
    <collection field="versions" create-type="java.util.LinkedList"
      item-type="de.escidoc.core.resources.common.versionhistory.Version">
      
      <structure name="version">
      
        <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
          set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
        <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
          set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
        <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
          set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
        
        <value name="version-number" field="versionNumber" />
        <value name="timestamp" field="timestamp"/>
        <value name="version-status" field="versionStatus" />
        <value name="comment" field="comment" />

        <!-- *****************************************
          Events
          ****************************************** -->
        <collection name="events" field="events"
          create-type="java.util.LinkedList"
          item-type="de.escidoc.core.resources.common.versionhistory.Event">
                    
          <structure ns="http://www.loc.gov/standards/premis/v1" name="event">
          
            <value name="xmlID" style="attribute" field="xmlID"/>
              
            <structure ns="http://www.loc.gov/standards/premis/v1"
              name="eventIdentifier" field="eventIdentifier">
              
              <value ns="http://www.loc.gov/standards/premis/v1" name="eventIdentifierType"
                field="eventIdentifierType"/>
              <value ns="http://www.loc.gov/standards/premis/v1" name="eventIdentifierValue"
                field="eventIdentifierValue"/>
            </structure>
            
            <value ns="http://www.loc.gov/standards/premis/v1" name="eventType"
              field="eventType"/>
            <value ns="http://www.loc.gov/standards/premis/v1" name="eventDateTime"
              field="eventDateTime"/>
            <value ns="http://www.loc.gov/standards/premis/v1" name="eventDetail"
              field="eventDetail"/>
              
            <structure ns="http://www.loc.gov/standards/premis/v1"
              name="linkingAgentIdentifier"
              field="linkingAgentIdentifier">
                
              <value ns="http://www.loc.gov/standards/premis/v1" name="linkingAgentIdentifierType"
                field="linkingAgentIdentifierType"/>
              <value ns="http://www.loc.gov/standards/premis/v1" name="linkingAgentIdentifierValue"
                field="linkingAgentIdentifierValue"/>
            </structure>

            <structure ns="http://www.loc.gov/standards/premis/v1"
              name="linkingObjectIdentifier"
              field="linkingObjectIdentifier">
              
              <value ns="http://www.loc.gov/standards/premis/v1" name="linkingObjectIdentifierType"
                field="linkingObjectIdentifierType"/>
              <value ns="http://www.loc.gov/standards/premis/v1" name="linkingObjectIdentifierValue"
                field="linkingObjectIdentifierValue"/>
            </structure>
          </structure>
        </collection>
      </structure>
    </collection>
  </mapping>
  <!-- end: binding of a version history -->
</binding>