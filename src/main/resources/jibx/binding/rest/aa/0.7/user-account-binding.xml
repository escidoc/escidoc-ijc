<?xml version="1.0" encoding="UTF-8"?>
<binding>
	<!--  REST Binding -->
	<!-- start: binding of a single user account -->
	<mapping name="user-account"
		ns="http://www.escidoc.de/schemas/useraccount/0.7"
		class="de.escidoc.core.resources.aa.useraccount.UserAccount">
		<namespace uri="http://www.escidoc.de/schemas/useraccount/0.7"
			prefix="user-account" />
		<structure map-as="abstract-user-account" />
	</mapping>
	<!-- end: binding of a single user account -->

	<!-- start: binding of an user account list -->
	<mapping ns="http://www.escidoc.de/schemas/useraccountlist/0.7"
		name="user-account-list" class="de.escidoc.core.resources.aa.useraccount.UserAccounts">
		<namespace uri="http://www.escidoc.de/schemas/useraccountlist/0.7"
			prefix="user-account-list" />
		<namespace uri="http://www.escidoc.de/schemas/useraccount/0.7"
			prefix="user-account" />
		<collection field="userAccounts" 
			create-type="java.util.LinkedList">
			<structure name="user-account"
				ns="http://www.escidoc.de/schemas/useraccount/0.7"
				type="de.escidoc.core.resources.aa.useraccount.UserAccount">
				<structure map-as="abstract-user-account" />
			</structure>
		</collection>
	</mapping>
	<!-- end: binding of an user account list -->
	
	<!-- start: abstract binding of a single user account -->
	<mapping ns="http://www.escidoc.de/schemas/useraccount/0.7" abstract="true"
		class="de.escidoc.core.resources.aa.useraccount.UserAccount"
		type-name="abstract-user-account" pre-get="genXLink">
		
		<namespace uri="http://www.escidoc.de/schemas/useraccount/0.7"
			prefix="user-account" />
		<namespace uri="http://escidoc.de/core/01/properties/"
			prefix="prop" />
		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
			
		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<!-- *****************************************
			Root attributes 
			****************************************** -->
		<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
			set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
		<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
			set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
		<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
			set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

		<value name="last-modification-date" style="attribute" type="org.joda.time.DateTime"
			set-method="setLastModificationDate"
			get-method="getLastModificationDate" usage="optional" />


		<!-- *****************************************
			Properties 
			****************************************** -->
		<structure ns="http://www.escidoc.de/schemas/useraccount/0.7"
			name="properties" field="properties" usage="optional">
			<structure map-as="abstract-properties" usage="optional" />
		</structure>
		
		<structure ns="http://www.escidoc.de/schemas/useraccount/0.7"
			name="resources" usage="optional">
		</structure>
	</mapping>
	
	<!-- start: abstract binding of properties of user account -->
	<mapping ns="http://escidoc.de/core/01/properties/"
		class="de.escidoc.core.resources.aa.useraccount.UserAccountProperties"
		abstract="true" type-name="abstract-properties">

		<namespace uri="http://escidoc.de/core/01/properties/"
			prefix="prop" />
		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
			
		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<value ns="http://escidoc.de/core/01/properties/" type="org.joda.time.DateTime"
			name="creation-date" set-method="setCreationDate"
			get-method="getCreationDate" usage="optional" />

		<structure ns="http://escidoc.de/core/01/structural-relations/"
			name="created-by" field="createdBy" usage="optional">

			<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
				set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
			<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
				set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
			<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
				set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
		</structure>

		<structure ns="http://escidoc.de/core/01/structural-relations/"
			name="modified-by" field="modifiedBy" usage="optional">

			<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
				set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
			<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
				set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
			<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
				set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
		</structure>

		<value ns="http://escidoc.de/core/01/properties/" name="name"
			field="name" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/"
			name="login-name" field="loginName" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/" name="active"
			field="active" usage="optional" />

	</mapping>
	<!-- end: abstract binding of properties of user account -->

</binding>
