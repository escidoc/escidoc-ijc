<binding>
	<!--  REST Binding -->
	<!-- start: binding of a single organizational-unit -->
	<mapping name="organizational-unit"
		ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
		class="de.escidoc.core.resources.oum.OrganizationalUnit">
		<namespace
			uri="http://www.escidoc.de/schemas/organizationalunit/0.8"
			prefix="escidocOrganizationalUnit" />
		<structure map-as="abstract-organizational-unit" />
	</mapping>
	<!-- end: binding of a single organizational-unit -->

	<!-- start: abstract binding of a single organizational-unit -->
	<mapping ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
		class="de.escidoc.core.resources.oum.OrganizationalUnit"
		abstract="true" type-name="abstract-organizational-unit">

		<namespace
			uri="http://www.escidoc.de/schemas/organizationalunit/0.8"
			prefix="escidocOrganizationalUnit" />
		<namespace uri="http://escidoc.de/core/01/properties/"
			prefix="prop" />
		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
		<namespace uri="http://escidoc.de/core/01/properties/version/"
			prefix="version" />
		<namespace uri="http://escidoc.de/core/01/properties/release/"
			prefix="release" />
		<namespace uri="http://www.escidoc.de/schemas/relations/0.3"
			prefix="relations" />
		<namespace
			uri="http://www.escidoc.de/schemas/metadatarecords/0.5"
			prefix="escidocMetadataRecords" />
		<namespace uri="http://www.escidoc.de/schemas/structmap/0.4"
			prefix="struct-map" />

		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<!-- *****************************************
			Root attributes 
			****************************************** -->
		<!-- Keep mapping objid because core returns objects in SOAP format in SRW -->
		<value name="objid" style="attribute" 
			set-method="setObjid" get-method="getObjid" usage="optional" />
		
		<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
			set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
			
		<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
			set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
			
		<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
			set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

		<value name="last-modification-date" style="attribute" type="org.joda.time.DateTime"
			set-method="setLastModificationDate"
			get-method="getLastModificationDate" usage="optional" />

		<!-- Properties include -->
		<structure
			ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
			name="properties" field="properties" usage="optional">
			<structure map-as="organizational-unit-properties"
				usage="optional" />
		</structure>

		<!-- Resources include (REST only) -->
 		<structure ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
			name="resources" usage="optional">
		</structure>

		<!-- *****************************************
			MD-Records 
			****************************************** -->
		<structure
			ns="http://www.escidoc.de/schemas/metadatarecords/0.5"
			name="md-records"
			type="de.escidoc.core.resources.common.MetadataRecords"
			field="mdRecords" usage="optional">
			<structure map-as="abstract-md-records" usage="optional" />
		</structure>

		<!-- *****************************************
			Parents
			****************************************** -->
		<structure ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
			name="parents"
			type="de.escidoc.core.resources.oum.Parents"
			field="parents" usage="optional">
			<structure map-as="abstract-parents"
				usage="optional" />
		</structure>

		<!-- *****************************************
			Predecessors
			****************************************** -->
		<structure ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
			name="predecessors"
			type="de.escidoc.core.resources.oum.Predecessors"
			field="predecessors" usage="optional">
			<structure map-as="abstract-predecessors"
				usage="optional" />
		</structure>
	</mapping>
	<!-- end: abstract binding of a single container -->

	<!-- *****************************************
		Properties binding definition
		****************************************** -->
	<mapping ns="http://escidoc.de/core/01/properties/"
		class="de.escidoc.core.resources.oum.Properties" abstract="true"
		type-name="organizational-unit-properties">

		<namespace uri="http://escidoc.de/core/01/properties/"
			prefix="prop" />
		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
		
		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<value ns="http://escidoc.de/core/01/properties/" type="org.joda.time.DateTime"
			name="creation-date" set-method="setCreationDate"
			get-method="getCreationDate" usage="optional" />

		<structure ns="http://escidoc.de/core/01/structural-relations/"
			name="created-by" field="createdBy" usage="optional">
			
			<!-- Keep mapping objid because core returns objects in SOAP format in SRW -->
			<value name="objid" style="attribute" 
				set-method="setObjid" get-method="getObjid" usage="optional" />

			<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
				set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
				
			<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
				set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
				
			<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
				set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
		</structure>

		<structure ns="http://escidoc.de/core/01/structural-relations/"
			name="modified-by" set-method="setModifiedBy"
			get-method="getModifiedBy" usage="optional">
			
			<!-- Keep mapping objid because core returns objects in SOAP format in SRW -->
			<value name="objid" style="attribute" 
				set-method="setObjid" get-method="getObjid" usage="optional" />

			<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
				set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
				
			<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
				set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
				
			<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
				set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
		</structure>

		<value ns="http://escidoc.de/core/01/properties/"
			name="public-status" set-method="setPublicStatus"
			get-method="getPublicStatus" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/"
			name="public-status-comment" set-method="setPublicStatusComment"
			get-method="getPublicStatusComment" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/" name="name"
			set-method="setName" get-method="getName" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/"
			name="description" set-method="setDescription"
			get-method="getDescription" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/"
			name="external-ids" set-method="setExternalIds"
			get-method="getExternalIds" usage="optional" />

		<value ns="http://escidoc.de/core/01/properties/"
			name="has-children" set-method="setHasChildren"
			get-method="getHasChildren" usage="optional" />

	</mapping>


	<!-- *****************************************
		Abstract Parents 
		****************************************** -->
	<mapping ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
		class="de.escidoc.core.resources.oum.Parents"
		abstract="true" type-name="abstract-parents">

		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<collection field="parentRefs"
			create-type="java.util.LinkedList" usage="optional">

			<structure
				ns="http://escidoc.de/core/01/structural-relations/"
				name="parent"
				type="de.escidoc.core.resources.oum.Parent" usage="optional">

				<!-- Keep mapping objid because core returns objects in SOAP format in SRW -->
				<value name="objid" style="attribute" 
					set-method="setObjid" get-method="getObjid" usage="optional" />
				
				<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
					set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
					
				<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
					set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
					
				<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
					set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
			</structure>
		</collection>
	</mapping>

	<!-- *****************************************
		Abstract Predecessors 
		****************************************** -->
	<mapping ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
		class="de.escidoc.core.resources.oum.Predecessors"
		abstract="true" type-name="abstract-predecessors">

		<namespace uri="http://escidoc.de/core/01/structural-relations/"
			prefix="srel" />
		<namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

		<collection field="predecessorRefs"
			create-type="java.util.LinkedList" usage="optional">

			<structure
				ns="http://escidoc.de/core/01/structural-relations/"
				name="predecessor"
				type="de.escidoc.core.resources.oum.Predecessor" usage="optional">
				
				<!-- Keep mapping objid because core returns objects in SOAP format in SRW -->
				<value name="objid" style="attribute" 
					set-method="setObjid" get-method="getObjid" usage="optional" />

				<value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
					set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
					
				<value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
					set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
					
				<value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
					set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
				
				<value name="form" style="attribute"
					set-method="setFormAsString" get-method="getFormAsString" usage="optional" />
			</structure>
		</collection>
	</mapping>

	<!-- start: binding of an organizational unit list -->
	<mapping ns="http://www.escidoc.de/schemas/organizationalunitlist/0.8"
		name="organizational-unit-list" class="de.escidoc.core.resources.oum.OrganizationalUnitList">
		<namespace uri="http://www.escidoc.de/schemas/organizationalunitlist/0.8"
			prefix="organizational-unit-list" />
		<namespace uri="http://www.escidoc.de/schemas/organizationalunit/0.8"
			prefix="organizational-unit" />
		<collection field="organizationalUnits"
			factory="de.escidoc.core.resources.oum.OrganizationalUnitList.organizationalUnitsFactory">
			<structure name="organizational-unit"
				ns="http://www.escidoc.de/schemas/organizationalunit/0.8"
				type="de.escidoc.core.resources.oum.OrganizationalUnit">
				<structure map-as="abstract-organizational-unit" />
			</structure>
		</collection>
	</mapping>
	<!-- end: binding of an organizational unit list -->

</binding>

