<binding>

  <namespace uri="http://www.escidoc.de/schemas/reportdefinition/0.4" 
    default="elements"/>
  <namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

  <mapping name="report-definition" 
    class="de.escidoc.core.resources.sm.report.ReportDefinition"
    ns="http://www.escidoc.de/schemas/reportdefinition/0.4"
    pre-get="genXLink">
    
    <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
      set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
    <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
      set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
    <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
      set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
      
    <structure name="name">
      <value style="text" field="name"/>
    </structure>
    
    <structure name="scope" field="scope" 
      type="de.escidoc.core.resources.common.reference.ScopeRef">
      
      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
	      set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
	    <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
	      set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
	    <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
	      set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
    </structure>
    
    <structure name="sql" field="sql" type="java.lang.String" 
      marshaller="de.escidoc.core.common.jibx.binding.OptionalCDataMarshaller" 
      unmarshaller="de.escidoc.core.common.jibx.binding.OptionalCDataMarshaller"/>
    
    <collection name="allowed-roles" field="allowedRoles" 
      create-type="java.util.LinkedList"
      item-type="de.escidoc.core.resources.common.reference.RoleRef"
      usage="optional">
      <structure name="allowed-role">
        <value style="attribute" name="objid" set-method="setObjid" 
          get-method="getObjid"/>
      </structure>
    </collection>
  </mapping>
</binding>