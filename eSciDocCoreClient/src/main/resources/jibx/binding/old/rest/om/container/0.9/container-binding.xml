<binding>
  <!--  REST Binding -->
  <mapping name="container" ns="http://www.escidoc.de/schemas/container/0.9"
    class="de.escidoc.core.resources.om.container.Container">
    
    <namespace uri="http://www.escidoc.de/schemas/container/0.9"
      prefix="escidocContainer" />
      
    <structure map-as="abstract-container" />
  </mapping>

  <mapping ns="http://www.escidoc.de/schemas/containerlist/0.9"
    name="container-list"
    class="de.escidoc.core.resources.om.container.ContainerList">
    
    <namespace uri="http://www.escidoc.de/schemas/containerlist/0.9"
      prefix="cl" />
    <namespace uri="http://www.escidoc.de/schemas/container/0.9"
      prefix="escidocContainer" default="elements"/>
      
    <collection create-type="java.util.LinkedList"
      item-type="de.escidoc.core.resources.om.container.Container">
      
      <structure name="container">
        <structure map-as="abstract-container" />
      </structure>
    </collection>
  </mapping>

  <mapping ns="http://www.escidoc.de/schemas/container/0.9"
    class="de.escidoc.core.resources.om.container.Container"
    abstract="true" type-name="abstract-container"
    pre-get="genXLink">
    
    <namespace uri="http://www.escidoc.de/schemas/container/0.9"
      prefix="escidocContainer" default="elements"/>
      
    <namespace uri="http://escidoc.de/core/01/properties/"
      prefix="prop" />
    <namespace uri="http://escidoc.de/core/01/structural-relations/"
      prefix="srel" />
    <namespace uri="http://escidoc.de/core/01/properties/version/"
      prefix="version" />
    <namespace uri="http://escidoc.de/core/01/properties/release/"
      prefix="release" />
    <namespace uri="http://www.escidoc.de/schemas/relations/0.3"
      prefix="relations" />
    <namespace
      uri="http://www.escidoc.de/schemas/metadatarecords/0.5"
      prefix="escidocMetadataRecords" />
    <namespace uri="http://www.escidoc.de/schemas/structmap/0.4"
      prefix="struct-map" />

    <namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

    <!-- *****************************************
      Root attributes 
      ****************************************** -->
    <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
      set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
    <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
      set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
    <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
      set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

    <value name="last-modification-date" style="attribute" 
      set-method="setLastModificationDate"
      get-method="getLastModificationDate"
      usage="optional" />

    <!-- *****************************************
      Properties 
      ****************************************** -->
    <structure name="properties" field="properties" usage="optional">
      <structure map-as="container-properties" usage="optional" />
    </structure>

    <!-- *****************************************
      MD-Records 
      ****************************************** -->
    <structure
      ns="http://www.escidoc.de/schemas/metadatarecords/0.5"
      name="md-records"
      type="de.escidoc.core.resources.common.MetadataRecords"
      field="mdRecords" usage="optional">
      <structure map-as="abstract-md-records" usage="optional" />
    </structure>
    
    <!-- *****************************************
      Struct-Map
      ****************************************** -->
    <structure name="struct-map" field="structMap" usage="optional"
      ns="http://www.escidoc.de/schemas/structmap/0.4"
      map-as="abstract-struct-map"/>
    
    <!-- *****************************************
      Relations 
      ****************************************** -->
      <structure ns="http://www.escidoc.de/schemas/relations/0.3"
      field="relations" type="de.escidoc.core.resources.common.Relations"
      usage="optional" />

    <!-- *****************************************
      Resources (REST only) > ignore
      ****************************************** -->
    <structure ns="http://www.escidoc.de/schemas/container/0.9" 
      name="resources" usage="optional">
    </structure>
  </mapping>
  <!-- end: abstract binding of a single container -->


  <!-- *****************************************
    Properties binding definition
    ****************************************** -->
  <mapping ns="http://escidoc.de/core/01/properties/"
    class="de.escidoc.core.resources.om.container.ContainerProperties"
    abstract="true" type-name="container-properties">

    <namespace uri="http://escidoc.de/core/01/properties/"
      prefix="prop" default="elements"/>
      
    <namespace uri="http://escidoc.de/core/01/structural-relations/"
      prefix="srel" />
    <namespace uri="http://escidoc.de/core/01/properties/version/"
      prefix="version" />
    <namespace uri="http://escidoc.de/core/01/properties/release/"
      prefix="release" />
    
    <namespace uri="http://www.w3.org/1999/xlink" prefix="xlink" />

    <value name="creation-date" set-method="setCreationDate"
      get-method="getCreationDate" usage="optional" />

    <structure ns="http://escidoc.de/core/01/structural-relations/"
      name="created-by" usage="optional"
      set-method="setCreatedBy" get-method="getCreatedBy">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
    </structure>

    <value name="public-status" usage="optional"
      set-method="setPublicStatus" get-method="getPublicStatus" 
      enum-value-method="getXmlValue"/>

    <value name="public-status-comment" usage="optional"
      set-method="setPublicStatusComment" get-method="getPublicStatusComment"/>

    <value name="name" usage="optional"
      set-method="setName" get-method="getName"/>

    <value name="description" usage="optional" 
      set-method="setDescription" get-method="getDescription"/>

    <structure ns="http://escidoc.de/core/01/structural-relations/"
      name="context" usage="optional"
      set-method="setContext" get-method="getContext">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
    </structure>

    <structure ns="http://escidoc.de/core/01/structural-relations/"
      name="content-model" usage="optional"
      set-method="setContentModel" get-method="getContentModel">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
    </structure>

    <!-- lock (status, date, owner) -->
    <value name="lock-status" usage="optional"
      set-method="setLockStatus" get-method="getLockStatus"
      enum-value-method="getXmlValue"/>
    <value name="lock-date" usage="optional"
      set-method="setLockDate" get-method="getLockDate"/>
      
    <structure ns="http://escidoc.de/core/01/structural-relations/"
      name="lock-owner" field="lockOwner" usage="optional">
      
      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional"/>
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional"/>
    </structure>

    <value name="pid" set-method="setPid" get-method="getPid" usage="optional"/>

    <!-- *****************************************
      Version 
      ****************************************** -->
    <structure name="version" field="version" usage="optional">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

      <value ns="http://escidoc.de/core/01/properties/version/"
        name="number" get-method="getNumber" set-method="setNumber"
        usage="optional" />

      <value ns="http://escidoc.de/core/01/properties/version/" type="org.joda.time.DateTime"
        name="date" set-method="setDate"
        get-method="getDate" usage="optional" />
      <value ns="http://escidoc.de/core/01/properties/version/"
        name="status" set-method="setStatus" get-method="getStatus"
        usage="optional" />

      <structure ns="http://escidoc.de/core/01/structural-relations/"
        name="modified-by" set-method="setModifiedBy"
        get-method="getModifiedBy" usage="optional">
        
        <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
          set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
        <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
          set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
        <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
          set-method="setXLinkType" get-method="getXLinkType" usage="optional" />
      </structure>

      <value ns="http://escidoc.de/core/01/properties/version/"
        name="comment" set-method="setComment" get-method="getComment"
        usage="optional" />

      <value ns="http://escidoc.de/core/01/properties/version/"
        name="pid" set-method="setPid" get-method="getPid" usage="optional" />
    </structure>

    <!-- *****************************************
      Latest-Version 
      ****************************************** -->
    <structure name="latest-version" field="latestVersion" usage="optional">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

      <value ns="http://escidoc.de/core/01/properties/version/"
        name="number" get-method="getNumber" set-method="setNumber"
        usage="optional" />
      <value ns="http://escidoc.de/core/01/properties/version/" type="org.joda.time.DateTime"
        name="date" set-method="setDate"
        get-method="getDate" usage="optional" />
      <value ns="http://escidoc.de/core/01/properties/release/"
        name="pid" set-method="setPid" get-method="getPid" usage="optional" />
    </structure>

    <!-- *****************************************
      Latest-Release 
      ****************************************** -->
    <structure name="latest-release" field="latestRelease" usage="optional">

      <value ns="http://www.w3.org/1999/xlink" name="href" style="attribute" 
        set-method="setXLinkHref" get-method="getXLinkHref" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="title" style="attribute" 
        set-method="setXLinkTitle" get-method="getXLinkTitle" usage="optional" />
      <value ns="http://www.w3.org/1999/xlink" name="type" style="attribute" 
        set-method="setXLinkType" get-method="getXLinkType" usage="optional" />

      <value ns="http://escidoc.de/core/01/properties/release/"
        name="number" get-method="getNumber" set-method="setNumber"
        usage="optional" />
      <value ns="http://escidoc.de/core/01/properties/release/" type="org.joda.time.DateTime"
        name="date" set-method="setDate"
        get-method="getDate" usage="optional" />
      <value ns="http://escidoc.de/core/01/properties/release/"
        name="pid" set-method="setPid" get-method="getPid" usage="optional" />
    </structure>

    <!-- *****************************************
      Content-Model specific 
      ****************************************** -->
    <structure name="content-model-specific"
      field="contentModelSpecific"
      type="de.escidoc.core.resources.common.properties.ContentModelSpecific"
      usage="optional">
      <structure field="content" type="java.util.List"
        marshaller="org.jibx.extras.DomListMapper"
        unmarshaller="org.jibx.extras.DomListMapper" usage="optional" />
    </structure>
  </mapping>
</binding>